<div class="relative w-screen h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-950 flex items-center justify-center overflow-hidden font-['Inter']">
  
  <!-- Simplified Background -->
  <div class="absolute inset-0 opacity-30 pointer-events-none">
    <div class="absolute inset-0 scan-animate" style="background: repeating-linear-gradient(0deg, rgba(102,126,234,0.03) 0px, rgba(102,126,234,0.03) 1px, transparent 1px, transparent 2px)"></div>
    <div class="absolute inset-0 animate-[energyPulse_4s_ease-in-out_infinite]" style="background: radial-gradient(ellipse at center, rgba(102,126,234,0.15) 0%, transparent 70%)"></div>
  </div>

  <!-- Access Terminal -->
  <div class="relative w-[480px] bg-slate-900/95 border rounded-[20px] p-12 backdrop-blur-2xl mr-20 animate-[terminalSlideIn_0.6s_cubic-bezier(0.34,1.56,0.64,1)]"
       [class.border-primary-500]="isAuthenticating()"
       [class.border-emerald-500]="accessGranted()"
       [class.border-primary-500/30]="!isAuthenticating() && !accessGranted()"
       [style.box-shadow]="isAuthenticating() ? '0 25px 50px rgba(102,126,234,0.3)' : accessGranted() ? '0 25px 50px rgba(16,185,129,0.3)' : '0 25px 50px rgba(0,0,0,0.5)'">
    
    <!-- Header -->
    <div class="text-center mb-10">
      <div class="inline-flex items-center justify-center w-12 h-12 mb-4 border-2 rounded-full transition-all"
           [class.border-primary-500/30]="!isAuthenticating() && !accessGranted()"
           [class.border-primary-500]="isAuthenticating()"
           [class.animate-[indicatorPulse_1.5s_ease-in-out_infinite]]="isAuthenticating()"
           [class.border-emerald-500]="accessGranted()">
        <div class="w-3 h-3 rounded-full transition-all"
             [class.bg-slate-600]="!isAuthenticating() && !accessGranted()"
             [class.bg-primary-500]="isAuthenticating()"
             [class.bg-emerald-500]="accessGranted()"
             [style.box-shadow]="isAuthenticating() ? '0 0 15px #667eea' : accessGranted() ? '0 0 15px #10b981' : 'none'"></div>
      </div>
      
      <h1 class="text-3xl font-bold text-slate-200 mb-2">StudyMateAI Access</h1>
      
      <p class="text-sm">
        @if (isAuthenticating()) {
          <span class="text-primary-500 animate-[textPulse_1.5s_ease-in-out_infinite]">Authenticating...</span>
        } @else if (accessGranted()) {
          <span class="text-emerald-500">Access Granted</span>
        } @else {
          <span class="text-slate-600">System Ready</span>
        }
      </p>
    </div>

    <!-- Access Form -->
    <div class="mb-8">
      @for (node of accessNodes(); track node.id; let idx = $index) {
        <div class="mb-7 field-slide-in"
             [style.animation-delay.ms]="idx * 100">
          
          <label class="flex items-center gap-2 mb-3 text-xs font-semibold uppercase tracking-wide transition-colors"
                 [class.text-slate-500]="!node.active && node.value.length === 0"
                 [class.text-slate-200]="node.value.length > 0"
                 [class.text-primary-500]="node.active">
            <span class="transition-colors"
                  [class.text-slate-600]="!node.active"
                  [class.text-primary-500]="node.active">
              @if (node.id === 'email') {
                <svg width="16" height="16" viewBox="0 0 16 16">
                  <path d="M 2 4 L 8 9 L 14 4 M 2 4 L 2 12 L 14 12 L 14 4" 
                    stroke="currentColor" stroke-width="1.5" fill="none"/>
                </svg>
              } @else {
                <svg width="16" height="16" viewBox="0 0 16 16">
                  <rect x="4" y="7" width="8" height="6" rx="1" stroke="currentColor" stroke-width="1.5" fill="none"/>
                  <path d="M 6 7 L 6 5 Q 6 3 8 3 Q 10 3 10 5 L 10 7" 
                    stroke="currentColor" stroke-width="1.5" fill="none"/>
                </svg>
              }
            </span>
            <span>{{ node.label }}</span>
          </label>
          
          <div class="relative">
            <input
              [type]="node.type"
              [placeholder]="node.placeholder"
              [value]="node.value"
              (input)="onNodeInput(node.id, $any($event.target).value)"
              (focus)="onNodeFocus(node.id)"
              (blur)="onNodeBlur(node.id)"
              (keypress)="handleKeyPress($event)"
              [attr.autocomplete]="node.id"
              class="w-full bg-transparent border-b-2 border-primary-500/20 px-0 py-3 text-slate-200 text-base outline-none transition-colors
                     focus:border-transparent placeholder:text-slate-500/40"
            />
            <div class="absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary-500 to-secondary-500 origin-left transition-transform duration-300"
                 [class.scale-x-100]="node.active"
                 [class.scale-x-0]="!node.active"></div>
          </div>
        </div>
      }

      <!-- Error Message -->
      @if (errorMessage()) {
        <div class="flex items-center gap-2.5 mt-5 px-4 py-3 bg-red-500/10 border-l-3 border-red-500 rounded-md text-red-300 text-sm animate-[errorShake_0.4s_ease]">
          <svg width="16" height="16" viewBox="0 0 16 16">
            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5" fill="none"/>
            <path d="M 8 5 L 8 9" stroke="currentColor" stroke-width="1.5"/>
            <circle cx="8" cy="11" r="0.5" fill="currentColor"/>
          </svg>
          <span>{{ errorMessage() }}</span>
        </div>
      }
    </div>

    <!-- Access Button -->
    <button 
      (click)="accessSystem()"
      [disabled]="!canAccess()"
      class="relative w-full px-4 py-4 rounded-xl font-semibold text-sm overflow-hidden transition-all duration-300
             disabled:bg-primary-500/10 disabled:border-2 disabled:border-primary-500/30 disabled:text-slate-600 disabled:cursor-not-allowed
             enabled:bg-gradient-to-br enabled:from-primary-500 enabled:to-secondary-500 enabled:text-white
             enabled:hover:-translate-y-0.5 enabled:hover:shadow-[0_10px_30px_rgba(102,126,234,0.4)]
             enabled:active:translate-y-0"
      [class.pointer-events-none]="isAuthenticating()"
      [class.!bg-gradient-to-br]="accessGranted()"
      [class.!from-emerald-500]="accessGranted()"
      [class.!to-emerald-600]="accessGranted()">
      
      <span class="relative z-10 flex items-center justify-center gap-2.5">
        @if (isAuthenticating()) {
          <svg class="animate-spin" width="20" height="20" viewBox="0 0 20 20">
            <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2" 
              fill="none" stroke-dasharray="50" stroke-dashoffset="25"/>
          </svg>
          <span>Authenticating</span>
        } @else if (accessGranted()) {
          <svg width="20" height="20" viewBox="0 0 20 20">
            <path d="M 4 10 L 8 14 L 16 6" stroke="currentColor" stroke-width="2" fill="none"/>
          </svg>
          <span>Access Granted</span>
        } @else {
          <svg width="20" height="20" viewBox="0 0 20 20">
            <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2" fill="none"/>
            <path d="M 10 7 L 10 10 L 13 13" stroke="currentColor" stroke-width="2"/>
          </svg>
          <span>Access System</span>
        }
      </span>
      
      @if (canAccess() && !isAuthenticating() && !accessGranted()) {
        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-600"></div>
      }
    </button>

    <!-- Footer -->
    <div class="flex items-center justify-center flex-wrap gap-2 mt-8 text-sm">
      <a href="#" class="text-slate-400 hover:text-slate-200 transition-colors">Forgot Password?</a>
      <div class="text-slate-700">â€¢</div>
      <span class="text-slate-600">New user?</span>
      <a routerLink="/auth/signup" class="text-primary-500 font-semibold hover:text-secondary-500 transition-colors">Initialize Account</a>
    </div>

    <!-- Access Granted Overlay -->
    @if (accessGranted()) {
      <div class="absolute inset-0 bg-slate-900/98 rounded-[20px] flex items-center justify-center animate-[overlayFadeIn_0.4s_ease-out]">
        <div class="text-center animate-[overlayContentZoom_0.6s_cubic-bezier(0.34,1.56,0.64,1)]">
          <svg class="mx-auto mb-4" style="filter: drop-shadow(0 0 20px rgba(16,185,129,0.6))" width="80" height="80" viewBox="0 0 80 80">
            <circle cx="40" cy="40" r="35" stroke="#10b981" stroke-width="3" fill="none"/>
            <path d="M 20 40 L 35 55 L 60 25" stroke="#10b981" stroke-width="4" fill="none"/>
          </svg>
          <p class="text-lg font-semibold text-emerald-500">Welcome back</p>
        </div>
      </div>
    }
  </div>

  <!-- Branding Panel -->
  <div class="w-[400px] flex items-center justify-center animate-[brandingSlideIn_0.8s_cubic-bezier(0.34,1.56,0.64,1)_0.2s_backwards]">
    <div class="text-center">
      <div class="mx-auto mb-6 animate-float">
        <svg width="80" height="80" viewBox="0 0 80 80" style="filter: drop-shadow(0 0 30px rgba(102,126,234,0.5))">
          <defs>
            <linearGradient id="brandGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
            </linearGradient>
          </defs>
          <circle cx="40" cy="40" r="35" fill="none" stroke="url(#brandGradient)" stroke-width="3"/>
          <path d="M 25 40 L 40 25 L 55 40 L 40 55 Z" fill="url(#brandGradient)" opacity="0.6"/>
          <circle cx="40" cy="40" r="8" fill="url(#brandGradient)"/>
        </svg>
      </div>
      
      <h2 class="text-4xl font-bold text-gradient mb-2">StudyMateAI</h2>
      <p class="text-base text-slate-400 mb-10">Your intelligent study companion</p>
      
      <div class="flex flex-col gap-4 items-start max-w-[280px] mx-auto">
        @for (feature of ['AI-Powered Learning', 'Organized Study Materials', 'Smart Analytics']; track feature) {
          <div class="flex items-center gap-3 text-slate-300 text-sm">
            <svg width="20" height="20" viewBox="0 0 20 20" class="flex-shrink-0">
              <path d="M 4 10 L 8 14 L 16 6" stroke="#10b981" stroke-width="2" fill="none"/>
            </svg>
            <span>{{ feature }}</span>
          </div>
        }
      </div>
    </div>
  </div>
</div>

<style>
  @keyframes terminalSlideIn {
    from { opacity: 0; transform: translateX(-30px); }
  }
  @keyframes brandingSlideIn {
    from { opacity: 0; transform: translateX(30px); }
  }
  @keyframes overlayFadeIn {
    from { opacity: 0; }
  }
  @keyframes overlayContentZoom {
    from { opacity: 0; transform: scale(0.5); }
  }
  @keyframes indicatorPulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7); }
    50% { box-shadow: 0 0 0 10px rgba(102, 126, 234, 0); }
  }
  @keyframes textPulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
  }
  @keyframes errorShake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
  }
  @keyframes energyPulse {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 0.6; transform: scale(1.1); }
  }
</style>
