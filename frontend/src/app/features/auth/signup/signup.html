<div
  class="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-black relative overflow-hidden flex items-center justify-center p-4"
>
  <!-- Animated Space Background -->
  <div class="absolute inset-0 overflow-hidden">
    <div class="stars"></div>
    <div class="stars2"></div>
    <div class="stars3"></div>
  </div>

  <!-- Signup Card -->
  <div
    class="relative z-10 bg-black/40 backdrop-blur-xl border border-purple-500/50 rounded-2xl shadow-2xl shadow-purple-500/20 w-full max-w-md p-8"
  >
    <!-- Logo/Title -->
    <div class="text-center mb-8">
      <div class="inline-flex items-center gap-3 mb-4">
        <div
          class="w-12 h-12 rounded-lg bg-gradient-to-br from-cyan-400 to-purple-600 flex items-center justify-center"
        >
          <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
            />
          </svg>
        </div>
        <h1
          class="text-3xl font-bold bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent"
        >
          Join StudyMate
        </h1>
      </div>
      <p class="text-gray-400">Start your journey to the future of learning</p>
    </div>

    <!-- Error Alert -->
    @if (errorMessage()) {
    <div
      class="bg-red-600/20 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg mb-4 backdrop-blur-md"
    >
      {{ errorMessage() }}
    </div>
    }

    <!-- Signup Form -->
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
      <!-- Full Name -->
      <div class="mb-4">
        <label class="block text-gray-300 font-semibold mb-2">Full Name</label>
        <input
          type="text"
          formControlName="fullName"
          placeholder="John Doe"
          class="w-full px-4 py-3 bg-black/30 border border-purple-500/50 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent backdrop-blur-md transition-all"
          [class.border-red-500]="
            signupForm.get('fullName')?.invalid && signupForm.get('fullName')?.touched
          "
        />
        @if (signupForm.get('fullName')?.invalid && signupForm.get('fullName')?.touched) {
        <p class="text-red-400 text-sm mt-1">Name must be at least 2 characters</p>
        }
      </div>

      <!-- Email -->
      <div class="mb-4">
        <label class="block text-gray-300 font-semibold mb-2">Email</label>
        <input
          type="email"
          formControlName="email"
          placeholder="you@example.com"
          class="w-full px-4 py-3 bg-black/30 border border-purple-500/50 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent backdrop-blur-md transition-all"
          [class.border-red-500]="
            signupForm.get('email')?.invalid && signupForm.get('email')?.touched
          "
        />
        @if (signupForm.get('email')?.invalid && signupForm.get('email')?.touched) {
        <p class="text-red-400 text-sm mt-1">Please enter a valid email</p>
        }
      </div>

      <!-- Password -->
      <div class="mb-6">
        <label class="block text-gray-300 font-semibold mb-2">Password</label>
        <input
          type="password"
          formControlName="password"
          placeholder="••••••••"
          class="w-full px-4 py-3 bg-black/30 border border-purple-500/50 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent backdrop-blur-md transition-all"
          [class.border-red-500]="
            signupForm.get('password')?.invalid && signupForm.get('password')?.touched
          "
        />
        @if (signupForm.get('password')?.invalid && signupForm.get('password')?.touched) {
        <p class="text-red-400 text-sm mt-1">Password must be at least 6 characters</p>
        }
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        [disabled]="isLoading()"
        class="w-full bg-gradient-to-r from-purple-600 to-cyan-600 hover:from-purple-500 hover:to-cyan-500 disabled:from-gray-600 disabled:to-gray-600 text-white font-bold py-3 rounded-lg transition-all duration-300 hover:shadow-lg hover:shadow-purple-500/50 hover:scale-105 disabled:scale-100 disabled:shadow-none"
      >
        @if (isLoading()) {
        <span>Creating account...</span>
        } @else {
        <span>Sign Up</span>
        }
      </button>
    </form>

    <!-- Login Link -->
    <p class="text-center text-gray-400 mt-6">
      Already have an account?
      <a
        routerLink="/auth/login"
        class="text-cyan-400 hover:text-cyan-300 font-semibold transition-colors"
      >
        Login
      </a>
    </p>

    <!-- Back to Home -->
    <div class="text-center mt-4">
      <a routerLink="/" class="text-purple-400 hover:text-purple-300 text-sm transition-colors">
        ← Back to Home
      </a>
    </div>
  </div>
</div>

<style>
  /* Starfield Animation */
  @keyframes move-stars {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(-2000px);
    }
  }

  .stars,
  .stars2,
  .stars3 {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 200%;
    background-repeat: repeat;
  }

  .stars {
    background-image: radial-gradient(2px 2px at 20px 30px, #eee, rgba(0, 0, 0, 0)),
      radial-gradient(2px 2px at 60px 70px, #fff, rgba(0, 0, 0, 0)),
      radial-gradient(1px 1px at 50px 50px, #fff, rgba(0, 0, 0, 0)),
      radial-gradient(1px 1px at 130px 80px, #fff, rgba(0, 0, 0, 0)),
      radial-gradient(2px 2px at 90px 10px, #fff, rgba(0, 0, 0, 0));
    background-size: 200px 200px;
    animation: move-stars 100s linear infinite;
  }

  .stars2 {
    background-image: radial-gradient(1px 1px at 100px 120px, #a78bfa, rgba(0, 0, 0, 0)),
      radial-gradient(1px 1px at 20px 170px, #06b6d4, rgba(0, 0, 0, 0)),
      radial-gradient(1px 1px at 170px 80px, #a78bfa, rgba(0, 0, 0, 0));
    background-size: 250px 250px;
    animation: move-stars 150s linear infinite;
  }

  .stars3 {
    background-image: radial-gradient(1px 1px at 75px 75px, #06b6d4, rgba(0, 0, 0, 0)),
      radial-gradient(2px 2px at 150px 150px, #a78bfa, rgba(0, 0, 0, 0));
    background-size: 300px 300px;
    animation: move-stars 200s linear infinite;
  }
</style>
